<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é­”æ³•çç å¥¶èŒ¶ - å–äº†ä¼šå˜å¥½</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ä¿ç•™ä½ åŸæœ‰çš„æ‰€æœ‰CSSæ ·å¼ï¼Œæ— ä¿®æ”¹ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffe6f2 0%, #e6f7ff 100%);
            color: #5a3e36;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(165, 42, 42, 0.2);
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        h1 {
            color: #d2691e;
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0 #ffd700;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #8b4513;
            margin-bottom: 20px;
        }
        
        .tea-icon {
            font-size: 5rem;
            margin: 20px 0;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .column {
            flex: 1;
            min-width: 300px;
        }
        
        .panel {
            background: linear-gradient(to bottom right, #fff5ee, #fdf5e6);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.15);
            height: 100%;
            border: 3px dashed #ffb6c1;
        }
        
        h2 {
            color: #8b4513;
            border-bottom: 3px solid #ffd700;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .ingredient-list {
            list-style-type: none;
        }
        
        .ingredient-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px 15px;
            background-color: white;
            border-radius: 50px;
            transition: all 0.3s;
            border-left: 5px solid transparent;
        }
        
        .ingredient-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #ff69b4;
        }
        
        .ingredient-icon {
            font-size: 1.8rem;
            margin-right: 15px;
            width: 50px;
            text-align: center;
        }
        
        .ingredient-text {
            flex: 1;
        }
        
        .ingredient-name {
            font-weight: bold;
            color: #a0522d;
            font-size: 1.2rem;
        }
        
        .ingredient-magic {
            color: #8a2be2;
            font-size: 0.9rem;
        }
        
        .btn {
            background: linear-gradient(to right, #ff69b4, #ff8c00);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 105, 180, 0.6);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn i {
            margin-right: 10px;
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        .tea-cup {
            width: 200px;
            height: 250px;
            background: linear-gradient(to bottom, #f4a460 0%, #d2691e 100%);
            border-radius: 0 0 100px 100px;
            margin: 30px auto;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2);
            border: 10px solid #8b4513;
            overflow: hidden;
        }
        
        .tea-liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, #a0522d 0%, #d2691e 30%, #ffd700 100%);
            border-radius: 0 0 90px 90px;
            transition: height 2s ease;
            height: 0%;
        }
        
        .bubble {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: bubble-float 4s infinite ease-in-out;
        }
        
        @keyframes bubble-float {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-200px) scale(1.5); opacity: 0; }
        }
        
        .happiness-meter {
            width: 100%;
            height: 30px;
            background-color: #f0f0f0;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .happiness-fill {
            height: 100%;
            background: linear-gradient(to right, #ff6b6b, #ffd93d, #6bcf7f);
            border-radius: 15px;
            width: 0%;
            transition: width 2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .happiness-text {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 10px;
        }
        
        .result {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #fffacd, #e6fffa);
            border-radius: 20px;
            margin-top: 20px;
            border: 3px solid #ffb6c1;
            display: none; /* åˆå§‹éšè—ç»“æœé¢æ¿ */
        }
        
        .result h3 {
            color: #8b4513;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .message {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #5a3e36;
            margin-bottom: 15px;
        }
        
        .encouragement {
            font-style: italic;
            color: #8a2be2;
            font-size: 1.2rem;
            margin: 15px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
        }
        
        .effects-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .effect-badge {
            background-color: #ffebcd;
            padding: 10px 15px;
            border-radius: 50px;
            font-weight: bold;
            color: #8b4513;
            border: 2px solid #ffb6c1;
        }
        
        .stages {
            margin-top: 30px;
            text-align: left;
        }
        
        .stage-item {
            padding: 15px;
            margin-bottom: 10px;
            background-color: white;
            border-radius: 10px;
            border-left: 5px solid #ff69b4;
            display: flex;
            align-items: center;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.5s;
        }
        
        .stage-item.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .stage-number {
            background-color: #ff69b4;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }
        
        .magic-sparkle {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0;
            pointer-events: none;
            z-index: 100;
            animation: sparkle 1s ease-in-out;
        }
        
        @keyframes sparkle {
            0% { opacity: 1; transform: scale(0); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0; transform: scale(1); }
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #8b4513;
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .container {
                padding: 20px;
            }
            
            .tea-cup {
                width: 150px;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-mug-hot"></i> é­”æ³•çç å¥¶èŒ¶</h1>
            <div class="subtitle">ä¸€æ¯å–äº†ä¼šå˜å¥½çš„ç¥å¥‡é¥®å“</div>
            <div class="tea-icon">ğŸ§‹</div>
            <p>é€‰æ‹©é­”æ³•åŸæ–™ï¼Œå†²æ³¡å±äºä½ çš„å¿«ä¹å¥¶èŒ¶ï¼</p>
        </div>
        
        <div class="row">
            <div class="column">
                <div class="panel">
                    <h2><i class="fas fa-hat-wizard"></i> é­”æ³•åŸæ–™</h2>
                    <ul class="ingredient-list" id="ingredientList">
                        <!-- åŸæ–™ä¼šé€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    </ul>
                </div>
            </div>
            
            <div class="column">
                <div class="panel">
                    <h2><i class="fas fa-wine-glass-alt"></i> å¥¶èŒ¶åˆ¶ä½œ</h2>
                    <div class="tea-cup" id="teaCup">
                        <div class="tea-liquid" id="teaLiquid"></div>
                    </div>
                    
                    <div class="happiness-text">
                        å¹¸ç¦æŒ‡æ•°: <span id="happinessValue">0</span>%
                    </div>
                    <div class="happiness-meter">
                        <div class="happiness-fill" id="happinessFill"></div>
                    </div>
                    
                    <div class="controls">
                        <button class="btn" id="brewBtn">
                            <i class="fas fa-magic"></i> å¼€å§‹å†²æ³¡
                        </button>
                        <button class="btn" id="stirBtn" disabled>
                            <i class="fas fa-stroopwafel"></i> ç”¨çˆ±æ…æ‹Œ
                        </button>
                        <button class="btn" id="drinkBtn" disabled>
                            <i class="fas fa-glass-cheers"></i> å“å°å¥¶èŒ¶
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="result" id="resultPanel">
            <h3><i class="fas fa-star"></i> é­”æ³•ç”Ÿæ•ˆï¼</h3>
            <div class="message" id="resultMessage"></div>
            
            <div class="effects-list" id="effectsList">
                <!-- æ•ˆæœæ ‡ç­¾ä¼šåŠ¨æ€æ·»åŠ  -->
            </div>
            
            <div class="encouragement" id="encouragementText"></div>
            
            <div class="stages" id="drinkStages">
                <h4><i class="fas fa-list-ol"></i> å“å°è¿‡ç¨‹:</h4>
                <!-- å“å°é˜¶æ®µä¼šåŠ¨æ€æ·»åŠ  -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>âœ¨ è¿™æ¯è™šæ‹Ÿå¥¶èŒ¶è™½ç„¶ä¸èƒ½çœŸçš„å–ï¼Œä½†å¸Œæœ›å®ƒèƒ½ç»™ä½ å¸¦æ¥å¥½å¿ƒæƒ…ï¼ âœ¨</p>
        <p>è®°ä½ï¼šæ¯ä¸€å¤©éƒ½æ˜¯å–å¥¶èŒ¶çš„å¥½æ—¥å­ï¼ <i class="fas fa-heart" style="color: #ff69b4;"></i></p>
    </footer>

    <script>
        // ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œç¡®ä¿ä»£ç åœ¨é¡µé¢åŠ è½½åè¿è¡Œ
        (function() {
            console.log("é­”æ³•å¥¶èŒ¶åº”ç”¨å¼€å§‹åˆå§‹åŒ–...");
            
            // é­”æ³•åŸæ–™æ•°æ®
            const ingredients = [
                { icon: "â˜€ï¸", name: "é˜³å…‰çº¢èŒ¶", magic: "é©±æ•£é˜´éœ¾", color: "#ff9900" },
                { icon: "ğŸŒ™", name: "æœˆå…‰ç‰›å¥¶", magic: "å¸¦æ¥å®‰å®", color: "#f0f8ff" },
                { icon: "ğŸŒˆ", name: "å½©è™¹ç³–æµ†", magic: "æ·»åŠ è‰²å½©", color: "#ff69b4" },
                { icon: "â­", name: "æ˜Ÿæ˜Ÿçç ", magic: "é—ªé—ªå‘å…‰", color: "#ffd700" },
                { icon: "ğŸ˜Š", name: "å¾®ç¬‘æ¤°æœ", magic: "ç”œèœœå›å¿†", color: "#ffb6c1" },
                { icon: "ğŸ›¡ï¸", name: "å‹‡æ°”å¸ƒä¸", magic: "å¢å¼ºä¿¡å¿ƒ", color: "#9370db" },
                { icon: "ğŸ€", name: "å¹¸è¿å†°æ²™", magic: "å¥½è¿åŠ æŒ", color: "#32cd32" }
            ];
            
            // é¼“åŠ±è¯è¯­
            const encouragements = [
                "ğŸŒ» è®°ä½ï¼šæ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼",
                "ğŸŒŸ ä½ æœ‰èƒ½åŠ›è®©ä»Šå¤©å˜å¾—ç¾å¥½ï¼",
                "ğŸ’– å°å°çš„çç å¥¶èŒ¶ï¼Œå¤§å¤§çš„å¹¸ç¦èƒ½é‡ï¼",
                "ğŸ¯ å¤ªé˜³ä¼šå‡èµ·ï¼Œç”Ÿæ´»ä¹Ÿä¼šç»§ç»­ï¼",
                "ğŸŒŠ åƒçç ä¸€æ ·ï¼Œç»å†ç£¨ç»ƒåæ›´åŠ Qå¼¹ç¾å‘³ï¼",
                "ğŸŒ¼ ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ä»½ç¤¼ç‰©ï¼",
                "ğŸ¨ ç”Ÿæ´»å°±åƒå¥¶èŒ¶ï¼Œå¯ä»¥è°ƒå‡ºè‡ªå·±å–œæ¬¢çš„å‘³é“ï¼",
                "ğŸš€ ä»Šå¤©æ˜¯ä½ ä½™ç”Ÿçš„ç¬¬ä¸€å¤©ï¼Œè®©å®ƒå˜å¾—ç²¾å½©ï¼"
            ];
            
            // å“å°é˜¶æ®µ
            const drinkStages = [
                "ç¬¬ä¸€å£ï¼šæ¸©æš–çš„çº¢èŒ¶å”¤é†’å‘³è•¾",
                "ç¬¬äºŒå£ï¼šé¦™ç”œçš„ç‰›å¥¶å¸¦æ¥å®‰æ…°", 
                "ç¬¬ä¸‰å£ï¼šQå¼¹çš„çç å……æ»¡ä¹è¶£",
                "ç¬¬å››å£ï¼šé­”æ³•å¼€å§‹ç”Ÿæ•ˆ...",
                "æœ€åä¸€å£ï¼šæ„Ÿè§‰æ•´ä¸ªä¸–ç•Œéƒ½å˜ç¾å¥½äº†ï¼"
            ];
            
            // é­”æ³•æ•ˆæœ
            const magicEffects = [
                "ä¸€å¤©å¥½å¿ƒæƒ…", "å¿ƒæƒ…å˜æ™´æœ—", "èƒ½é‡æ»¡æ ¼", 
                "çµæ„Ÿæ¶Œç°", "çƒ¦æ¼æ¶ˆå¤±", "è‡ªä¿¡æå‡",
                "å¥½è¿è¿è¿", "å‹åŠ›æ¶ˆæ•£"
            ];

            // è·å–DOMå…ƒç´ 
            const ingredientList = document.getElementById('ingredientList');
            const teaCup = document.getElementById('teaCup');
            const teaLiquid = document.getElementById('teaLiquid');
            const happinessValue = document.getElementById('happinessValue');
            const happinessFill = document.getElementById('happinessFill');
            const brewBtn = document.getElementById('brewBtn');
            const stirBtn = document.getElementById('stirBtn');
            const drinkBtn = document.getElementById('drinkBtn');
            const resultPanel = document.getElementById('resultPanel');
            const resultMessage = document.getElementById('resultMessage');
            const effectsList = document.getElementById('effectsList');
            const encouragementText = document.getElementById('encouragementText');
            const drinkStagesEl = document.getElementById('drinkStages');
            const container = document.querySelector('.container');
            
            // åˆå§‹åŒ–åŸæ–™åˆ—è¡¨
            function initIngredients() {
                console.log("æ­£åœ¨åˆå§‹åŒ–åŸæ–™åˆ—è¡¨...");
                if (!ingredientList) {
                    console.error("æ‰¾ä¸åˆ°å…ƒç´  #ingredientList");
                    return;
                }
                ingredientList.innerHTML = '';
                ingredients.forEach(ingredient => {
                    console.log("æ·»åŠ åŸæ–™:", ingredient.name);
                    const li = document.createElement('li');
                    li.className = 'ingredient-item';
                    li.innerHTML = `
                        <div class="ingredient-icon">${ingredient.icon}</div>
                        <div class="ingredient-text">
                            <div class="ingredient-name">${ingredient.name}</div>
                            <div class="ingredient-magic">${ingredient.magic}</div>
                        </div>
                    `;
                    ingredientList.appendChild(li);
                });
                console.log("åŸæ–™åˆ—è¡¨åˆå§‹åŒ–å®Œæˆï¼Œå…±æ·»åŠ ", ingredients.length, "ç§åŸæ–™");
            }
            
            // åˆ¶ä½œæ³¡æ³¡æ•ˆæœ
            function createBubbles() {
                if (!teaCup) return;
                // æ¸…é™¤å·²æœ‰çš„æ³¡æ³¡
                const existingBubbles = document.querySelectorAll('.bubble');
                existingBubbles.forEach(bubble => bubble.remove());
                // åˆ›å»ºæ–°çš„æ³¡æ³¡
                for (let i = 0; i < 20; i++) {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    // éšæœºå¤§å°
                    const size = Math.random() * 20 + 5;
                    bubble.style.width = `${size}px`;
                    bubble.style.height = `${size}px`;
                    // éšæœºä½ç½®
                    bubble.style.left = `${Math.random() * 100}%`;
                    bubble.style.bottom = '0';
                    // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                    bubble.style.animationDelay = `${Math.random() * 4}s`;
                    teaCup.appendChild(bubble);
                }
            }

            // åˆ›å»ºé­”æ³•é—ªå…‰æ•ˆæœ
            function createSparkle(x, y) {
                const sparkle = document.createElement('div');
                sparkle.className = 'magic-sparkle';
                sparkle.textContent = 'âœ¨';
                sparkle.style.left = `${x}px`;
                sparkle.style.top = `${y}px`;
                container.appendChild(sparkle);
                // ç§»é™¤é—ªå…‰å…ƒç´ 
                setTimeout(() => {
                    sparkle.remove();
                }, 1000);
            }

            // å†²æ³¡å¥¶èŒ¶
            function brewTea() {
                console.log("å¼€å§‹å†²æ³¡é­”æ³•å¥¶èŒ¶...");
                brewBtn.disabled = true;
                // å¡«å……å¥¶èŒ¶æ¶²ä½“
                teaLiquid.style.height = '85%';
                // æå‡å¹¸ç¦æŒ‡æ•°åˆ°50%
                setTimeout(() => {
                    happinessFill.style.width = '50%';
                    happinessValue.textContent = '50';
                    // åˆ›å»ºæ³¡æ³¡
                    createBubbles();
                    // å¯ç”¨æ…æ‹ŒæŒ‰é’®
                    stirBtn.disabled = false;
                    console.log("å¥¶èŒ¶å†²æ³¡å®Œæˆï¼Œå¯è¿›è¡Œæ…æ‹Œ");
                }, 2000);
                // ç‚¹å‡»ä½ç½®åˆ›å»ºé—ªå…‰
                brewBtn.addEventListener('click', (e) => {
                    createSparkle(e.pageX, e.pageY);
                }, { once: true });
            }

            // æ…æ‹Œå¥¶èŒ¶
            function stirTea() {
                console.log("å¼€å§‹ç”¨çˆ±æ…æ‹Œå¥¶èŒ¶...");
                stirBtn.disabled = true;
                // å¢åŠ æ³¡æ³¡æ•°é‡
                createBubbles();
                // å¹¸ç¦æŒ‡æ•°æå‡åˆ°80%
                setTimeout(() => {
                    happinessFill.style.width = '80%';
                    happinessValue.textContent = '80';
                    // å¯ç”¨å“å°æŒ‰é’®
                    drinkBtn.disabled = false;
                    console.log("å¥¶èŒ¶æ…æ‹Œå®Œæˆï¼Œå¯è¿›è¡Œå“å°");
                }, 1500);
                // æ…æ‹Œæ—¶åˆ›å»ºéšæœºé—ªå…‰
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const x = Math.random() * container.offsetWidth;
                        const y = Math.random() * container.offsetHeight;
                        createSparkle(x, y);
                    }, Math.random() * 1500);
                }
            }

            // å“å°å¥¶èŒ¶
            function drinkTea() {
                console.log("å¼€å§‹å“å°é­”æ³•å¥¶èŒ¶...");
                drinkBtn.disabled = true;
                // å¹¸ç¦æŒ‡æ•°æ‹‰æ»¡100%
                happinessFill.style.width = '100%';
                happinessValue.textContent = '100';
                // æ˜¾ç¤ºç»“æœé¢æ¿
                setTimeout(() => {
                    resultPanel.style.display = 'block';
                    renderResult();
                    console.log("å“å°å®Œæˆï¼Œé­”æ³•ç”Ÿæ•ˆï¼");
                }, 1000);
            }

            // æ¸²æŸ“å“å°ç»“æœ
            function renderResult() {
                // éšæœºç»“æœæ–‡æ¡ˆ
                const randomMsg = `ä½ å“å°äº†ä¸€æ¯ç”±${ingredients[Math.floor(Math.random() * ingredients.length)].name}å’Œ${ingredients[Math.floor(Math.random() * ingredients.length)].name}è°ƒåˆ¶çš„é­”æ³•çç å¥¶èŒ¶ï¼Œç¬é—´æ„Ÿå—åˆ°æ»¡æ»¡çš„å¹¸ç¦èƒ½é‡ï¼`;
                resultMessage.textContent = randomMsg;

                // éšæœºç”Ÿæˆ3-5ä¸ªé­”æ³•æ•ˆæœ
                const randomEffects = [];
                const effectCount = Math.floor(Math.random() * 3) + 3;
                const shuffledEffects = [...magicEffects].sort(() => 0.5 - Math.random());
                for (let i = 0; i < effectCount; i++) {
                    randomEffects.push(shuffledEffects[i]);
                }
                // æ¸²æŸ“æ•ˆæœæ ‡ç­¾
                effectsList.innerHTML = '';
                randomEffects.forEach(effect => {
                    const badge = document.createElement('div');
                    badge.className = 'effect-badge';
                    badge.textContent = effect;
                    effectsList.appendChild(badge);
                });

                // éšæœºé¼“åŠ±è¯­
                encouragementText.textContent = encouragements[Math.floor(Math.random() * encouragements.length)];

                // æ¸²æŸ“å“å°é˜¶æ®µï¼ˆé€è¡Œæ˜¾ç¤ºï¼‰
                drinkStagesEl.innerHTML = '<h4><i class="fas fa-list-ol"></i> å“å°è¿‡ç¨‹:</h4>';
                drinkStages.forEach((stage, index) => {
                    const stageItem = document.createElement('div');
                    stageItem.className = 'stage-item';
                    stageItem.innerHTML = `
                        <div class="stage-number">${index + 1}</div>
                        <div>${stage}</div>
                    `;
                    drinkStagesEl.appendChild(stageItem);
                    // é€è¡Œæ˜¾ç¤ºåŠ¨ç”»
                    setTimeout(() => {
                        stageItem.classList.add('visible');
                    }, 300 * (index + 1));
                });
            }

            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            function bindEvents() {
                brewBtn.addEventListener('click', brewTea);
                stirBtn.addEventListener('click', stirTea);
                drinkBtn.addEventListener('click', drinkTea);
                // ç‚¹å‡»åŸæ–™åˆ›å»ºé—ªå…‰
                ingredientList.addEventListener('click', (e) => {
                    if (e.target.closest('.ingredient-item')) {
                        createSparkle(e.pageX, e.pageY);
                    }
                });
            }

            // åˆå§‹åŒ–åº”ç”¨
            function initApp() {
                initIngredients();
                bindEvents();
                console.log("é­”æ³•å¥¶èŒ¶åº”ç”¨åˆå§‹åŒ–å®Œæˆï¼Œå‡†å¤‡å°±ç»ªï¼");
            }

            // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
            window.addEventListener('DOMContentLoaded', initApp);

        })();
    </script>
</body>
</html>